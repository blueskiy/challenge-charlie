import { formatData } from './formatData';

export const mockData = {
  data: {
    lat: -22.7912,
    lon: -43.3777,
    timezone: 'America/Sao_Paulo',
    timezone_offset: -10800,
    current: {
      dt: 1656432062,
      sunrise: 1656408859,
      sunset: 1656447538,
      temp: 25.03,
      feels_like: 24.79,
      pressure: 1018,
      humidity: 46,
      dew_point: 12.61,
      uvi: 4.98,
      clouds: 21,
      visibility: 10000,
      wind_speed: 0.69,
      wind_deg: 79,
      wind_gust: 2.16,
      weather: [
        {
          id: 801,
          main: 'Clouds',
          description: 'algumas nuvens',
          icon: '02d',
        },
      ],
    },
    daily: [
      {
        dt: 1656424800,
        sunrise: 1656408859,
        sunset: 1656447538,
        moonrise: 1656407460,
        moonset: 1656446040,
        moon_phase: 0,
        temp: {
          day: 24.17,
          min: 13.98,
          max: 25.1,
          night: 17.91,
          eve: 21.89,
          morn: 14.15,
        },
        feels_like: {
          day: 23.9,
          night: 17.64,
          eve: 21.75,
          morn: 13.89,
        },
        pressure: 1019,
        humidity: 48,
        dew_point: 12.48,
        wind_speed: 2.09,
        wind_deg: 93,
        wind_gust: 2.99,
        weather: [
          {
            id: 801,
            main: 'Clouds',
            description: 'algumas nuvens',
            icon: '02d',
          },
        ],
        clouds: 18,
        pop: 0,
        uvi: 5.68,
      },
      {
        dt: 1656511200,
        sunrise: 1656495265,
        sunset: 1656533956,
        moonrise: 1656496920,
        moonset: 1656535500,
        moon_phase: 0.02,
        temp: {
          day: 25.96,
          min: 16.23,
          max: 29.24,
          night: 19.47,
          eve: 24.47,
          morn: 16.4,
        },
        feels_like: {
          day: 25.96,
          night: 19.56,
          eve: 24.43,
          morn: 16.03,
        },
        pressure: 1017,
        humidity: 47,
        dew_point: 13.5,
        wind_speed: 2.03,
        wind_deg: 267,
        wind_gust: 4.03,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'céu limpo',
            icon: '01d',
          },
        ],
        clouds: 0,
        pop: 0,
        uvi: 5.63,
      },
      {
        dt: 1656597600,
        sunrise: 1656581669,
        sunset: 1656620374,
        moonrise: 1656586260,
        moonset: 1656625080,
        moon_phase: 0.05,
        temp: {
          day: 20.64,
          min: 17.86,
          max: 22.94,
          night: 17.86,
          eve: 20.76,
          morn: 18.26,
        },
        feels_like: {
          day: 20.98,
          night: 18.13,
          eve: 21.03,
          morn: 18.65,
        },
        pressure: 1021,
        humidity: 85,
        dew_point: 17.77,
        wind_speed: 2.22,
        wind_deg: 262,
        wind_gust: 4.62,
        weather: [
          {
            id: 500,
            main: 'Rain',
            description: 'chuva leve',
            icon: '10d',
          },
        ],
        clouds: 100,
        pop: 0.38,
        rain: 0.22,
        uvi: 4.54,
      },
      {
        dt: 1656684000,
        sunrise: 1656668072,
        sunset: 1656706793,
        moonrise: 1656675300,
        moonset: 1656714780,
        moon_phase: 0.08,
        temp: {
          day: 24.69,
          min: 16.26,
          max: 24.97,
          night: 19.05,
          eve: 20.41,
          morn: 16.26,
        },
        feels_like: {
          day: 24.76,
          night: 19.31,
          eve: 20.65,
          morn: 16.45,
        },
        pressure: 1020,
        humidity: 59,
        dew_point: 15.96,
        wind_speed: 2.53,
        wind_deg: 120,
        wind_gust: 3.01,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'céu limpo',
            icon: '01d',
          },
        ],
        clouds: 1,
        pop: 0,
        uvi: 5.48,
      },
      {
        dt: 1656770400,
        sunrise: 1656754475,
        sunset: 1656793212,
        moonrise: 1656764100,
        moonset: 1656804360,
        moon_phase: 0.11,
        temp: {
          day: 27.44,
          min: 16.45,
          max: 28.61,
          night: 20.71,
          eve: 22.53,
          morn: 16.45,
        },
        feels_like: {
          day: 27.32,
          night: 20.43,
          eve: 22.41,
          morn: 16.42,
        },
        pressure: 1020,
        humidity: 42,
        dew_point: 13.38,
        wind_speed: 1.9,
        wind_deg: 359,
        wind_gust: 4.04,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'céu limpo',
            icon: '01d',
          },
        ],
        clouds: 0,
        pop: 0,
        uvi: 2.06,
      },
      {
        dt: 1656856800,
        sunrise: 1656840876,
        sunset: 1656879632,
        moonrise: 1656852720,
        moonset: 1656894000,
        moon_phase: 0.14,
        temp: {
          day: 29.44,
          min: 17.63,
          max: 30.55,
          night: 21.47,
          eve: 23.49,
          morn: 17.63,
        },
        feels_like: {
          day: 28.97,
          night: 21.32,
          eve: 23.41,
          morn: 17.3,
        },
        pressure: 1020,
        humidity: 39,
        dew_point: 13.8,
        wind_speed: 1.73,
        wind_deg: 328,
        wind_gust: 3.07,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'céu limpo',
            icon: '01d',
          },
        ],
        clouds: 0,
        pop: 0,
        uvi: 3,
      },
      {
        dt: 1656943200,
        sunrise: 1656927276,
        sunset: 1656966052,
        moonrise: 1656941220,
        moonset: 1656983520,
        moon_phase: 0.17,
        temp: {
          day: 29.1,
          min: 17.87,
          max: 29.44,
          night: 20.06,
          eve: 21.95,
          morn: 17.87,
        },
        feels_like: {
          day: 28.45,
          night: 19.82,
          eve: 21.87,
          morn: 17.57,
        },
        pressure: 1020,
        humidity: 37,
        dew_point: 12.53,
        wind_speed: 1.41,
        wind_deg: 338,
        wind_gust: 2.18,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'céu limpo',
            icon: '01d',
          },
        ],
        clouds: 0,
        pop: 0,
        uvi: 3,
      },
      {
        dt: 1657029600,
        sunrise: 1657013676,
        sunset: 1657052473,
        moonrise: 1657029600,
        moonset: 1657073100,
        moon_phase: 0.2,
        temp: {
          day: 29.55,
          min: 16.92,
          max: 30.42,
          night: 20.94,
          eve: 23.27,
          morn: 16.92,
        },
        feels_like: {
          day: 28.63,
          night: 20.66,
          eve: 23.09,
          morn: 16.31,
        },
        pressure: 1018,
        humidity: 34,
        dew_point: 11.82,
        wind_speed: 1.51,
        wind_deg: 321,
        wind_gust: 2.75,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'céu limpo',
            icon: '01d',
          },
        ],
        clouds: 0,
        pop: 0,
        uvi: 3,
      },
    ],
  },
};

export const expectedValue = [
  {
    day: 'hoje',
    description: 'algumas nuvens',
    humidity: '46',
    pressure: '1018',
    temperature: '25',
    weatherId: 801,
    wind: { direction: 'NE', speed: '2.5' },
  },
  {
    day: 'amanhã',
    description: 'céu limpo',
    humidity: '47',
    pressure: '1017',
    temperature: '26',
    weatherId: 800,
    wind: { direction: 'SO', speed: '7.3' },
  },
  {
    day: 'depois de amanhã',
    description: 'chuva leve',
    humidity: '85',
    pressure: '1021',
    temperature: '21',
    weatherId: 500,
    wind: { direction: 'SO', speed: '8.0' },
  },
];

describe('formatData', () => {
  it('should format weather data correctly', () => {
    const isError = false;
    const { weatherData } = formatData(mockData, isError);
    expect(weatherData).toStrictEqual(expectedValue);
  });

  it('should not format data', () => {
    const isError = true;
    const { weatherData } = formatData(mockData, isError);
    expect(weatherData).toStrictEqual([1, 2, 3]);
  });
});
